import{r as s,u as S,j as t,ao as N,a2 as P,ap as E,an as k,aq as D}from"./index-h56-aQR2.js";import{P as f}from"./placeholder-product.jpg-DXgA_N8Y.js";import{F as I}from"./Footer-BCYwxPy9.js";import{a as L,I as F}from"./Card-Bi7efLgb.js";import{T as A}from"./index-CNzCJQK6.js";import"./EyeOutlined-CE7rTGO2.js";import"./index-BGotda9i.js";import"./index-DP781QSh.js";import"./BaseInput-wggHTtLx.js";import"./PlusOutlined-Cx8O54Vq.js";const T=({product:a})=>{const[d,r]=s.useState(null),i=S(),u=()=>{i(`/catalogue/${a.id}`,{state:{product:a}})};return s.useEffect(()=>{(async()=>{if(a&&a.image&&a.image.trim()!=="")try{const o=await E(a.image);r(o||f)}catch(o){console.error(o),r(f)}})()},[a]),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("img",{src:d||f,alt:a.name,className:"w-full h-auto rounded-[8px]"}),t.jsxs("div",{className:"justify-start w-full my-4",children:[t.jsx("h3",{className:"text-[#5D5A88] font-medium text-[17px] mb-2",children:a.name}),t.jsx("div",{className:"flex flex-row justify-between",children:t.jsxs("p",{className:"text-[#FF432A] text-[17px] font-semibold",children:["Rp. ",N(parseInt(a.price))]})})]}),t.jsx("div",{className:"items-center w-full",children:t.jsx(P,{text:"Detail Produk",className:"w-full rounded-[24px] py-3",onClick:u})}),t.jsx("hr",{className:"w-full border-t-2 border-gray-100 opacity-20 my-8 rounded-full -z-50"})]})},{Search:B}=F,G=()=>{const[a,d]=s.useState("0"),[r,i]=s.useState(!1),[u,l]=s.useState(!1),[o,h]=s.useState([]),[y,p]=s.useState([]),[g,c]=s.useState([]);s.useEffect(()=>{j(),w()},[]);const j=()=>{l(!0),k().then(e=>{h(e.data.data),c(e.data.data)}).catch(e=>{throw console.log(e),new Error(e)}).finally(()=>{l(!1)})},w=()=>{l(!0),D().then(e=>{p(e.data.data)}).catch(e=>{throw console.log(e),new Error(e)}).finally(()=>{l(!1)})},b=e=>{const m=o.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())||n.category_name.toLowerCase().includes(e.toLowerCase()));c(m)},x=()=>{window.scrollY>=50?i(!0):i(!1)};s.useEffect(()=>(window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}),[]);const C=e=>{if(d(e),e==="0")c(o);else{const m=o.filter(n=>n.category_id.toString()===e);c(m)}},v=[{label:"Semua",key:"0"},...y.map(e=>({label:e.name,key:e.id.toString()}))];return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:`${r?"bg-opacity-60 backdrop-blur-lg":"bg-white"} search-tabs-sticky`,children:[t.jsx(B,{size:"large",placeholder:"Cari produk...",onSearch:b,enterButton:!0}),t.jsx("div",{className:"mt-4",children:t.jsx(A,{defaultActiveKey:"0",size:"large",onChange:C,style:{marginBottom:8},items:v})})]}),t.jsx("div",{className:"block xl:hidden",children:g.map(e=>t.jsx(T,{product:e},e.id))}),t.jsx("div",{className:"hidden xl:grid xl:grid-cols-3 xl:gap-y-12 xl:my-6 xl:place-items-center",children:g.map(e=>t.jsx(L,{product:e},e.id))}),t.jsx(I,{})]})};export{G as default};
